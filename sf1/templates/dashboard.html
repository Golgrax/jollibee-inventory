{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h2 class="text-2xl font-bold mb-6">Dashboard</h2>
<div class="grid grid-cols-4 gap-4 mb-6">
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-blue-500">
        <div class="text-sm text-gray-500">Total Products</div>
        <div class="text-2xl font-bold">{{ total_products }}</div>
        <div class="text-sm text-gray-500">Inventory items</div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-green-500">
        <div class="text-sm text-gray-500">Categories</div>
        <div class="text-2xl font-bold">{{ total_categories }}</div>
        <div class="text-sm text-gray-500">Active categories</div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-yellow-500">
        <div class="text-sm text-gray-500">Low Stock</div>
        <div class="text-2xl font-bold">{{ low_stock }}</div>
        <div class="text-sm text-red-500">Needs attention</div>
    </div>
    <div class="bg-white p-4 rounded-lg shadow border-l-4 border-purple-500">
        <div class="text-sm text-gray-500">Total Users</div>
        <div class="text-2xl font-bold">{{ total_users }}</div>
        <div class="text-sm text-gray-500">Active system users</div>
    </div>
</div>
<div class="bg-white rounded-lg shadow-md">
    <div class="p-4 border-b border-gray-200 flex justify-between items-center">
        <h3 class="font-bold">Recent Products</h3>
        <a href="{{ url_for('products') }}" class="text-sm text-blue-600">View All</a>
    </div>
    <div class="p-4">
        <table class="min-w-full">
            <thead>
                <tr class="bg-gray-100">
                    <th class="py-2 px-3 text-left">ID</th>
                    <th class="py-2 px-3 text-left">Product Name</th>
                    <th class="py-2 px-3 text-left">Category</th>
                    <th class="py-2 px-3 text-left">Stock</th>
                    <th class="py-2 px-3 text-left">Price</th>
                </tr>
            </thead>
            <tbody>
                {% for product in recent_products %}
                <tr class="border-b border-gray-200">
                    <td class="py-2 px-3">{{ product[0] }}</td>
                    <td class="py-2 px-3">{{ product[1] }}</td>
                    <td class="py-2 px-3">{{ product[2] or 'None' }}</td>
                    <td class="py-2 px-3">{{ product[3] }}</td>
                    <td class="py-2 px-3">â‚±{{ product[4] | round(2) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
